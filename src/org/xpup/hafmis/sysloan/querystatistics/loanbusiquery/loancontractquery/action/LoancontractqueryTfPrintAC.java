/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package org.xpup.hafmis.sysloan.querystatistics.loanbusiquery.loancontractquery.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import org.apache.struts.action.Action;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;
import org.xpup.common.util.BSUtils;
import org.xpup.hafmis.orgstrct.dto.SecurityInfo;
import org.xpup.hafmis.syscollection.systemmaintain.loanpara.bsinterface.ILoanDocNumDesignBS;
import org.xpup.hafmis.sysloan.loanapply.endorsecontract.form.EndorsecontractTbAF;

/** 
 * MyEclipse Struts
 * Creation date: 10-16-2007
 * 
 * XDoclet definition:
 * @struts.action path="/loancontractqueryTfPrintAC" name="endorsecontractTbAF" scope="request" validate="true"
 */
public class LoancontractqueryTfPrintAC extends Action {
	/*
	 * Generated Methods
	 */

	/** 
	 * Method execute
	 * @param mapping
	 * @param form
	 * @param request
	 * @param response
	 * @return ActionForward
	 */
	public ActionForward execute(ActionMapping mapping, ActionForm form,
			HttpServletRequest request, HttpServletResponse response) {
    EndorsecontractTbAF endorsecontractTbAF =(EndorsecontractTbAF)request.getSession().getAttribute("printtheEndorsecontractTbAF");
String contractId=endorsecontractTbAF.getContractId();
if(contractId==null){
  contractId="";
}
endorsecontractTbAF.setContractId(contractId);
String pledgePerson=endorsecontractTbAF.getPledgePerson();
if(pledgePerson==null){
  pledgePerson="";
}
endorsecontractTbAF.setPledgePerson(pledgePerson);
String pledgeContractId=endorsecontractTbAF.getPledgeContractId();
if(pledgeContractId==null){
  pledgeContractId ="";
}
endorsecontractTbAF.setPledgeContractId(pledgeContractId);
String pledgeMatterName=endorsecontractTbAF.getPledgeMatterName() ;
if(pledgeMatterName==null){
  pledgeMatterName ="";
}
endorsecontractTbAF.setPledgeMatterName(pledgeMatterName);
String paperName=endorsecontractTbAF.getPaperName() ;
if(paperName==null){
  paperName="";
}
endorsecontractTbAF.setPaperName(paperName);
String cardKind=endorsecontractTbAF.getCardKind(); 
if(cardKind==null){
  cardKind ="";
}
endorsecontractTbAF.setCardKind(cardKind);
String tel=endorsecontractTbAF.getTel() ;
if(tel==null){
  tel="";
}
endorsecontractTbAF.setTel(tel);
String pledgeAddr=endorsecontractTbAF.getPledgeAddr();
if(pledgeAddr==null){
  pledgeAddr ="";
}
endorsecontractTbAF.setPledgeAddr(pledgeAddr);
String buyHouseContractId=endorsecontractTbAF.getBuyHouseContractId();
if(buyHouseContractId==null){
  buyHouseContractId="";
}
endorsecontractTbAF.setBuyHouseContractId(buyHouseContractId);
String pledgeValue=endorsecontractTbAF.getPledgeValue() ;
if(pledgeValue==null){
  pledgeValue ="";
}
endorsecontractTbAF.setPledgeValue(pledgeValue);

    
String debitter=endorsecontractTbAF.getDebitter(); 
if(debitter==null){
  debitter ="";
}
endorsecontractTbAF.setDebitter(debitter);
String office=endorsecontractTbAF.getOffice() ;
if(office==null){
  office="";
}
endorsecontractTbAF.setOffice(office);
String assistantOrgName=endorsecontractTbAF.getAssistantOrgName();
if(assistantOrgName==null){
  assistantOrgName ="";
}
endorsecontractTbAF.setAssistantOrgName(assistantOrgName);
String paperNum=endorsecontractTbAF.getPaperNum();
if(paperNum==null){
  paperNum ="";
}
endorsecontractTbAF.setPaperNum(paperNum);
String paperPersonName=endorsecontractTbAF.getPaperPersonName();
if(paperPersonName==null){
  paperPersonName ="";
}
endorsecontractTbAF.setPaperPersonName(paperPersonName);
String carNum=endorsecontractTbAF.getCarNum();
if(carNum==null){
  carNum="";
}
endorsecontractTbAF.setCarNum(carNum);
String mobile=endorsecontractTbAF.getMobile();
if(mobile==null){
  mobile="";
}
endorsecontractTbAF.setMobile(mobile);
String area=endorsecontractTbAF.getArea();
if(area==null){
  area ="";
}
endorsecontractTbAF.setArea(area);
String evaluateValue=endorsecontractTbAF.getEvaluateValue();

if(evaluateValue==null){
  evaluateValue ="";
}
endorsecontractTbAF.setEvaluateValue(evaluateValue);

    SecurityInfo securityInfo = (SecurityInfo) request.getSession().getAttribute("SecurityInfo");
    String opertname = securityInfo.getRealName();
    ILoanDocNumDesignBS loanDocNumDesignBS = (ILoanDocNumDesignBS) BSUtils
    .getBusinessService("sysloanloanDocNumDesignBS", this, mapping.getModuleConfig());
    String userName="";
    try {
      String name = loanDocNumDesignBS.getNamePara();

      if (name.equals("1")) {
        userName = securityInfo.getUserName();
      } else {
        userName = securityInfo.getRealName();
      }

    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
    String time = securityInfo.getUserInfo().getPlbizDate();
    request.setAttribute("opertname", userName);
    request.setAttribute("time", time);
    request.setAttribute("endorsecontractTbAF", endorsecontractTbAF);
    request.getSession().setAttribute("printtheEndorsecontractTbAF", null);
		return mapping.findForward("loancontractquery_tf_print_cell");
	}
}