/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package org.xpup.hafmis.sysloan.querystatistics.loanbusiquery.loancontractquery.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import org.apache.struts.action.Action;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;
import org.xpup.common.util.BSUtils;
import org.xpup.hafmis.orgstrct.dto.SecurityInfo;
import org.xpup.hafmis.sysloan.dataready.loanpara.bsinterface.ILoanDocNumDesignBS;
import org.xpup.hafmis.sysloan.loanapply.endorsecontract.form.EndorsecontractTdAF;

/** 
 * MyEclipse Struts
 * Creation date: 10-16-2007
 * 
 * XDoclet definition:
 * @struts.action path="/loancontractqueryThPrintAC" name="endorsecontractTdAF" scope="request" validate="true"
 */
public class LoancontractqueryThPrintAC extends Action {
	/*
	 * Generated Methods
	 */

	/** 
	 * Method execute
	 * @param mapping
	 * @param form
	 * @param request
	 * @param response
	 * @return ActionForward
	 */
	public ActionForward execute(ActionMapping mapping, ActionForm form,
			HttpServletRequest request, HttpServletResponse response) {
		EndorsecontractTdAF endorsecontractTdAF = (EndorsecontractTdAF)request.getSession().getAttribute("printtheEndorsecontractTdAF");
    
    
String contractId=endorsecontractTdAF.getContractId();
if(contractId==null){
  contractId="";
}
endorsecontractTdAF.setContractId(contractId);
String empId=endorsecontractTdAF.getEmpId();
if(empId==null){
  empId ="";
}
endorsecontractTdAF.setEmpId(empId);
String cardKind=endorsecontractTdAF.getCardKind();
if(cardKind==null){
  cardKind="";
}
endorsecontractTdAF.setCardKind(cardKind);
String sex=endorsecontractTdAF.getSex();
if(sex==null){
  sex="";
}
endorsecontractTdAF.setSex(sex);
String salary=endorsecontractTdAF.getSalary();
if(salary==null){
  salary ="";
}
endorsecontractTdAF.setSalary(salary);
String balance=endorsecontractTdAF.getBalance();
if(balance==null){
  balance="";
}
endorsecontractTdAF.setBalance(balance);
String tel=endorsecontractTdAF.getTel();
if(tel==null){
  tel ="";
}
endorsecontractTdAF.setTel(tel);
String homeTel=endorsecontractTdAF.getHomeTel();
if(homeTel==null){
  homeTel="";
}
endorsecontractTdAF.setHomeTel(homeTel);
String homeMai =endorsecontractTdAF.getHomeMai();
if(homeMai==null){
  homeMai ="";
}
endorsecontractTdAF.setHomeMai(homeMai);
String orgName=endorsecontractTdAF.getOrgName();
if(orgName==null){
  orgName ="";
}
endorsecontractTdAF.setOrgName(orgName);
String orgTel=endorsecontractTdAF.getOrgTel();
if(orgTel==null){
  orgTel ="";
}
endorsecontractTdAF.setOrgTel(orgTel);   
String debitter=endorsecontractTdAF.getDebitter();
if(debitter==null){
  debitter="";
}
endorsecontractTdAF.setDebitter(debitter);
String empName=endorsecontractTdAF.getEmpName();
if(empName==null){
  empName="";
}
endorsecontractTdAF.setEmpName(empName);
String cardNum=endorsecontractTdAF.getCardNum();
if(cardNum==null){
  cardNum="";
}
endorsecontractTdAF.setCardNum(cardNum);
String birthday=endorsecontractTdAF.getBirthday();
if(birthday==null){
  birthday="";
}
endorsecontractTdAF.setBirthday(birthday);
String monthPay=endorsecontractTdAF.getMonthPay();
if(monthPay==null){
  monthPay ="";
}
endorsecontractTdAF.setMonthPay(monthPay);
String empSt=endorsecontractTdAF.getEmpSt();
if(empSt==null){
  empSt="";
}
endorsecontractTdAF.setEmpSt(empSt);
String mobile=endorsecontractTdAF.getMobile();
if(mobile==null){
  mobile="";
}
endorsecontractTdAF.setMobile(mobile);
String homeAddr=endorsecontractTdAF.getHomeAddr();
if(homeAddr==null){
  homeAddr="";
}
endorsecontractTdAF.setHomeAddr(homeAddr);
String orgId=endorsecontractTdAF.getOrgId();
if(orgId==null){
  orgId="";
}
endorsecontractTdAF.setOrgId(orgId);
String orgAddr=endorsecontractTdAF.getOrgAddr();
if(orgAddr==null){
  orgAddr ="";
}
endorsecontractTdAF.setOrgAddr(orgAddr);
String orgMail=endorsecontractTdAF.getOrgMail();
if(orgMail==null){
  orgMail ="";
}
endorsecontractTdAF.setOrgMail(orgMail);
   
    SecurityInfo securityInfo = (SecurityInfo) request.getSession().getAttribute("SecurityInfo");
    String opertname = securityInfo.getRealName();
    ILoanDocNumDesignBS loanDocNumDesignBS = (ILoanDocNumDesignBS) BSUtils
    .getBusinessService("sysloanloanDocNumDesignBS", this, mapping.getModuleConfig());
    String userName="";
    try {
      String name = loanDocNumDesignBS.getNamePara();

      if (name.equals("1")) {
        userName = securityInfo.getUserName();
      } else {
        userName = securityInfo.getRealName();
      }

    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
    String time = securityInfo.getUserInfo().getPlbizDate();
    request.setAttribute("opertname", userName);
    request.setAttribute("time", time);
    request.setAttribute("endorsecontractTdAF", endorsecontractTdAF);
    request.getSession().setAttribute("printtheEndorsecontractTdAF",null);
    return mapping.findForward("loancontractquery_th_print_cell");
	}
}